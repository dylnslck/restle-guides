<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Restle Guides</title>
    <link rel="stylesheet" href="css/libs.css">
    <link rel="stylesheet" href="css/main.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,800' rel='stylesheet' type='text/css'>
    <link rel="icon" href="favicon.png">
  </head>
  <body>
    <div class="banner"></div>
    <div class="container">
      <div class="row">
        <section class="intro p-t-3 p-x-3">
          <h1>Restle Guides <span class="text-muted">v<%= version %></span></h1>
          <p>
            <a href="https://travis-ci.org/dylnslck/restle" target="_blank">
              <img src="https://travis-ci.org/dylnslck/restle.svg"/>
            </a>
            <a href="http://badge.fury.io/js/restle" target="_blank">
              <img src="https://badge.fury.io/js/restle.svg"/>
            </a>
          </p>
          <p>
            Restle is a simple Node.js <a href="http://jsonapi.org" target="_blank">JSON API</a>
            engine implementation. This library aims to be easy to use by requiring virtually
            no boilerplate while still maintaining flexible application logic customization.
            This software is very new, buggy, and a work in progress. Send me an email at
            <a href="mailto:dylan@directly.io">dylan@directly.io</a>
            if you need some help or run into an error or feel free to open an issue on
            <a href="https://github.com/dylnslck/restle" target="_blank">GitHub</a>.
          </p>
        </section>

        <section class="start p-t-1 p-x-3">
          <h3>Getting started</h3>
          <p>
            Restle doesn't follow any MVC patterns and is unopiniated. The library manages
            data objects and the relationships between them and exposes them to the routes
            defined in the JSON API specification. Restle comes with an in-memory
            adapter baked in and currently supports <a href="https://github.com/dylnslck/restle-mongodb">MongoDB</a>,
            but more database adapters are under construction.
          </p>
          <pre><code class="language-javascript"><%= codes.start %></code></pre>
          <p>
            The above app doesn't anything. In order for your data to be exposed over HTTP,
            you must add some schemas. Create a file called schemas.js.
          </p>
          <pre><code class="language-javascript"><%= codes.schemas %></code></pre>
          <p>
            Then register those schemas with your Restle instance.
          </p>
          <pre><code class="language-javascript"><%= codes.register %></code></pre>
          <p>You can now manipulate users, comments, and blogs via the proper JSON API routes.</p>
        </section>

        <section class="events p-t-1 p-x-3">
          <h3>Events</h3>
          <p>
            Restle comes with 'before' and 'after' events - the 'before' event is fired when
            there has been an HTTP request but before the database is accessed. For example,
            you can intercept a POST request and modify some data before that request touches
            the database. You can intercept all requests to your app or you can intercept a single resource request (or both).
            The 'req', 'res', and 'next' arguments are <a href="http://expressjs.com/" target="_blank">Express</a>
            objects. To reject the request, simply do not return next().
          </p>
          <pre><code class="language-javascript"><%= codes.before %></code></pre>
          <p>
            After registering your schemas, Restle automatically generates events at your disposal. For example,
            app.before('user.create'), app.before('user.update'), app.before('user.find'), and app.before('user.findOne').
          </p>
        </section>

        <section class="adapters p-t-1 p-x-3">
          <h3>Adapters</h3>
          <p>
            Adapters talk to your database, format the data, and send that formatted data
            back to Restle. Right now only <a href="https://github.com/dylnslck/restle-mongodb">MongoDB</a>
            is supported, but more adapters are on the way. You can give Restle a universal adapter
            such that all schemas are attached to a particular database. You can also override an adapter
            for a particular schema. For example, you may store all your users in MongoDB but store
            a different schema in-memory. This is particularly helpful when you want to use fixtures
            and run lean by pre-populating some data.
          </p>
          <pre><code class="language-javascript"><%= codes.adapters %></code></pre>
        </section>
      </div>
    </div>

    <script src="js/libs.js"></script>
    <script src="js/main.js"></script>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-73067404-1', 'auto');
    ga('send', 'pageview');
    </script>
  </body>
</html>
